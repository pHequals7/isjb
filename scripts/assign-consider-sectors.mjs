// Assign sector/industry data to Consider-sourced companies
// Since the Consider API doesn't expose market/industry data through accessible endpoints,
// we assign sectors based on well-known company information
import { readFileSync, writeFileSync } from "fs";

// Manual sector assignments for Consider companies based on domain knowledge
const sectorAssignments = {
  // PeakXV companies
  "multiplier": ["SaaS", "HR Tech"],
  "freshworks": ["SaaS", "Enterprise Software"],
  "apna": ["HR Tech", "Jobs Platform"],
  "homelane": ["Home Services", "E-Commerce"],
  "absolute-foods": ["Food & Beverages"],
  "capillary-technologies": ["SaaS", "Enterprise Software", "Retail Tech"],
  "leap-finance": ["FinTech", "EdTech"],
  "trusting-social": ["FinTech", "Artificial Intelligence"],
  "sigmoid": ["Data & Analytics", "Artificial Intelligence"],
  "porter": ["Logistics", "Transportation"],
  "meesho": ["E-Commerce", "Social Commerce"],
  "scaler": ["EdTech"],
  "awfis": ["Real Estate", "Co-working"],
  "plum-hq": ["Insurance", "HR Tech"],
  "purplle": ["E-Commerce", "Beauty & Personal Care"],
  "zetwerk": ["Manufacturing", "B2B Marketplace"],
  "razorpay": ["FinTech", "Payments"],
  "druva": ["Cloud Computing", "Data Storage", "Enterprise Software"],
  "jupiter": ["FinTech", "Banking"],
  "tata-1mg": ["HealthTech", "E-Commerce", "Pharmaceuticals"],
  "drinkprime": ["Consumer Services", "Water Tech"],
  "coinswitch-kuber": ["FinTech", "Cryptocurrency"],
  "log-9-materials": ["CleanTech", "EV & Battery"],
  "mosaic-wellness": ["Health & Wellness", "D2C"],
  "whatfix": ["SaaS", "Enterprise Software"],
  "darwinbox": ["SaaS", "HR Tech"],
  "fampay": ["FinTech", "Payments"],
  "clevertap": ["SaaS", "Marketing Tech"],
  "onescore": ["FinTech", "Credit"],
  "nat-habit": ["D2C", "Beauty & Personal Care"],
  "smallcase": ["FinTech", "Wealth Management"],
  "bright-money": ["FinTech", "Personal Finance"],
  "sirionlabs": ["SaaS", "Enterprise Software", "Legal Tech"],
  "groww": ["FinTech", "Wealth Management"],
  "cuemath": ["EdTech"],
  "ixigo": ["Travel", "OTA"],
  "cred": ["FinTech", "Payments"],
  "convosight": ["SaaS", "Marketing Tech"],
  "truecaller": ["Mobile", "Communication"],
  "rebel-foods": ["FoodTech", "Cloud Kitchen"],
  "unacademy": ["EdTech"],
  "brick-bolt": ["Construction", "Home Services"],
  "k12-techno-services": ["EdTech"],
  "practo": ["HealthTech"],
  "cardekho": ["Automotive", "Marketplace"],
  "eduvanz": ["FinTech", "EdTech"],
  "numberz": ["FinTech", "Accounting"],
  "animall": ["AgriTech", "Marketplace"],
  "dehaat": ["AgriTech"],
  "healthkart": ["HealthTech", "E-Commerce"],
  "la-renon-healthcare": ["HealthTech", "Pharmaceuticals"],
  "mobikwik": ["FinTech", "Payments"],
  "moglix": ["B2B Marketplace", "Manufacturing"],
  "nimbbl": ["FinTech", "Payments"],
  "bharatpe": ["FinTech", "Payments"],
  "byju": ["EdTech"],
  "incore-semiconductors": ["Semiconductors", "Hardware"],
  "india-shelter-finance": ["FinTech", "Lending"],
  "mesh": ["SaaS", "HR Tech"],
  "rattle": ["SaaS", "Enterprise Software"],
  "toddle": ["EdTech", "SaaS"],
  "turtlemint": ["Insurance", "FinTech"],
  "flynote": ["Travel", "SaaS"],
  "mamaearth": ["D2C", "Beauty & Personal Care"],
  "medgenome": ["HealthTech", "Genomics"],
  "octro": ["Gaming"],
  "oyo": ["Hospitality", "Travel"],
  "progcap": ["FinTech", "Lending"],
  "wakefit": ["D2C", "Home & Living"],
  "bijak": ["AgriTech", "B2B Marketplace"],
  "bijnis": ["B2B Marketplace", "Fashion"],
  "bira-91": ["Food & Beverages", "D2C"],
  "blackbuck": ["Logistics", "Transportation"],
  "bounce": ["Mobility", "EV"],
  "cars24": ["Automotive", "Marketplace"],
  "classplus": ["EdTech", "SaaS"],
  "cloudnine-group-of-hospitals": ["HealthTech", "Healthcare"],
  "dailyhunt": ["Media", "Content"],
  "eruditus-executive-education": ["EdTech"],
  "faces-canada": ["D2C", "Beauty & Personal Care"],
  "fi": ["FinTech", "Banking"],
  "finova-capital": ["FinTech", "Lending"],
  "fittr": ["Health & Wellness", "Fitness"],
  "foxy": ["E-Commerce", "Beauty & Personal Care"],
  "gomechanic": ["Automotive", "Services"],
  "happay": ["FinTech", "Expense Management"],
  "innovcare-lifesciences": ["HealthTech", "Pharmaceuticals"],
  "khatabook": ["FinTech", "SMB Tools"],
  "knowlarity": ["SaaS", "Communication"],
  "koye-pharmaceuticals": ["Pharmaceuticals"],
  "kredx": ["FinTech", "Lending"],
  "loconav": ["Logistics", "IoT", "Fleet Management"],
  "mad-street-den": ["Artificial Intelligence", "Retail Tech"],
  "mobile-premier-league": ["Gaming"],
  "moonfrog": ["Gaming"],
  "mu-sigma": ["Data & Analytics", "Consulting"],
  "oncostem": ["HealthTech", "Biotechnology"],
  "oneassist": ["Insurance", "Consumer Services"],
  "hector-beverages": ["Food & Beverages", "D2C"],
  "pine-labs": ["FinTech", "Payments"],
  "pristyn-care": ["HealthTech", "Healthcare"],
  "rupeek": ["FinTech", "Lending"],
  "salesken": ["SaaS", "Artificial Intelligence", "Sales Tech"],
  "skillmatics": ["D2C", "Education", "Toys & Games"],
  "stanza-living": ["Real Estate", "Student Housing"],
  "suburban-diagnostics": ["HealthTech", "Diagnostics"],
  "trell": ["Social Commerce", "Content"],
  "urbanpiper": ["SaaS", "FoodTech"],
  "vymo": ["SaaS", "Sales Tech"],
  "wildcraft-india": ["D2C", "Outdoor & Adventure"],
  "wingreens-farms": ["Food & Beverages", "D2C"],
  "zomato": ["FoodTech", "Food Delivery"],

  // Lightspeed companies
  "yubi": ["FinTech", "Lending"],
  "solarsquare-energy": ["CleanTech", "Solar Energy"],
  "physicswallah": ["EdTech"],
  "thoughtspot": ["SaaS", "Data & Analytics", "Enterprise Software"],
  "exponent-energy": ["CleanTech", "EV & Battery"],
  "appzen": ["SaaS", "Artificial Intelligence", "Enterprise Software"],
  "nexthop-ai": ["Artificial Intelligence", "Networking"],
  "stable-money": ["FinTech", "Wealth Management"],
  "acceldata": ["Data & Analytics", "Cloud Computing"],
  "pixxel": ["Space", "Satellite Imaging"],
  "oolka": ["E-Commerce", "Fashion"],
  "seekho": ["EdTech", "Content"],
  "zeptonow": ["E-Commerce", "Quick Commerce"],
  "scrut-automation": ["SaaS", "Cybersecurity", "Compliance"],
  "tessell": ["SaaS", "Cloud Computing", "Database"],
  "xflow": ["FinTech", "Payments"],
  "gushwork": ["Artificial Intelligence", "SaaS"],
  "acko": ["Insurance", "FinTech"],
  "officebanao": ["Construction", "Interior Design"],
  "freight-tiger": ["Logistics", "SaaS"],
  "hasura": ["Developer Tools", "SaaS", "Database"],
  "portkey": ["Artificial Intelligence", "Developer Tools"],
  "teachmint": ["EdTech", "SaaS"],
  "vegrow": ["AgriTech", "B2B Marketplace"],
  "indian-energy-exchange": ["Energy", "Marketplace"],
  "sharechat": ["Social Media", "Content"],
  "bachatt": ["FinTech", "Savings"],
  "nextbillion": ["Artificial Intelligence", "Geospatial"],
  "slikk": ["SaaS", "Collaboration"],
  "yellow-ai": ["Artificial Intelligence", "SaaS", "Conversational AI"],
  "mason": ["E-Commerce", "SaaS"],
  "thena": ["SaaS", "Customer Support"],
  "airbound": ["Logistics", "Drone Delivery"],
  "data-sutram": ["Data & Analytics", "Geospatial"],
  "shivalik-small-finance-bank": ["Banking", "FinTech"],
  "snabbit": ["Home Services"],
  "sumosave-retail-ventures": ["Retail", "D2C"],
  "centricity-wealthtech": ["FinTech", "Wealth Management"],
  "craftsvilla": ["E-Commerce", "Fashion"],
  "dpanda": ["Retail", "D2C"],
  "dukaan": ["E-Commerce", "SaaS"],
  "emversity": ["EdTech"],
  "freshmenu": ["FoodTech", "Cloud Kitchen"],
  "frontrow": ["EdTech", "Creator Economy"],
  "globalbees": ["D2C", "E-Commerce"],
  "globalfair": ["B2B Marketplace", "Manufacturing"],
  "healthplix-technologies-private-limited": ["HealthTech", "SaaS"],
  "house-of-x": ["D2C", "Fashion"],
  "lio": ["Productivity", "SMB Tools"],
  "magicpin": ["Local Commerce", "Marketplace"],
  "nexprt": ["B2B Marketplace", "Exports"],
  "okcredit": ["FinTech", "SMB Tools"],
  "p0": ["Cybersecurity", "Developer Tools"],
  "pocket-fm": ["Media", "Audio Content"],
  "property-share": ["Real Estate", "FinTech"],
  "udaan": ["B2B Marketplace", "E-Commerce"],
  "zyod": ["Fashion", "Manufacturing"],

  // Nexus companies
  "newton-school": ["EdTech"],
  "postman": ["Developer Tools", "SaaS"],
  "uniqus-consultech": ["Consulting", "Professional Services"],
  "joveo": ["HR Tech", "Marketing Tech"],
  "ultrahuman": ["HealthTech", "Wearables"],
  "creliohealth": ["HealthTech", "SaaS"],
  "jumbotail": ["B2B Marketplace", "Grocery"],
  "quizizz": ["EdTech", "SaaS"],
  "assetplus": ["FinTech", "Wealth Management"],
  "investmint": ["FinTech", "Wealth Management"],
  "pice": ["FinTech", "Payments"],
  "cognida.ai": ["Artificial Intelligence"],
  "mudrex": ["FinTech", "Cryptocurrency"],
  "neuron7-ai": ["Artificial Intelligence", "SaaS"],
  "neysa-networks": ["Artificial Intelligence", "Cloud Computing"],
  "onsurity": ["Insurance", "HR Tech"],
  "myupchar.com": ["HealthTech", "Content"],
  "aurva": ["Cybersecurity", "Data Security"],
  "daloopa": ["FinTech", "Data & Analytics"],
  "go-kiwi": ["FinTech", "Payments"],
  "namaste-credit": ["FinTech", "Lending"],
  "pratilipi": ["Media", "Content"],
  "promptql": ["Artificial Intelligence", "Developer Tools"],
  "venwiz": ["B2B Marketplace", "Manufacturing"],
  "aryaka": ["Networking", "SaaS", "Cloud Computing"],
  "blueshift": ["SaaS", "Marketing Tech"],
  "delhivery": ["Logistics", "Supply Chain"],
  "mugafi": ["Fashion", "Creator Economy"],
  "zet": ["FinTech", "SMB Tools"],
  "allo-health": ["HealthTech", "Telehealth"],
  "maximl": ["SaaS", "Industrial IoT"],
  "hypertrack": ["Developer Tools", "Location Tech"],
  "agilitas": ["Sports Tech", "Sports"],
  "infra.market": ["B2B Marketplace", "Construction"],
  "tijoree": ["FinTech", "Banking"],
  "brightpoint-studios": ["Gaming", "Entertainment"],
  "covvalent": ["SaaS", "Enterprise Software"],
  "elecbits": ["IoT", "Hardware", "Electronics"],
  "finarkein-analytics": ["FinTech", "Data & Analytics"],
  "jify": ["FinTech", "HR Tech"],
  "m2p-fintech": ["FinTech", "Banking Infrastructure"],
  "metaforms": ["SaaS", "Artificial Intelligence"],
  "mitigata": ["Insurance", "Cybersecurity"],
  "moveinsync": ["SaaS", "Transportation"],
  "nektar.ai": ["SaaS", "Sales Tech", "Artificial Intelligence"],
  "rapido": ["Mobility", "Transportation"],
  "singulr-ai": ["Artificial Intelligence"],
  "zango": ["Real Estate", "Rental"],
  "zinc": ["FinTech", "Payroll"],
};

const boards = [
  { id: "lightspeed", baseUrl: "https://jobs.lsvp.com" },
  { id: "peakxv", baseUrl: "https://careers.peakxv.com" },
  { id: "nexus", baseUrl: "https://jobs.nexusvp.com" },
];

for (const board of boards) {
  console.log(`\n=== ${board.id.toUpperCase()} ===`);
  const data = JSON.parse(readFileSync(`data/${board.id}.json`, "utf-8"));

  let assigned = 0, missing = 0;
  const missingSlugs = [];

  for (const company of data.companies) {
    const sectors = sectorAssignments[company.slug];
    if (sectors) {
      company.sectors = sectors;
      assigned++;
    } else {
      missingSlugs.push(company.slug);
      missing++;
    }
  }

  writeFileSync(`data/${board.id}.json`, JSON.stringify(data, null, 2));
  console.log(`  Assigned sectors to ${assigned}/${data.companies.length} companies`);
  if (missing > 0) {
    console.log(`  Missing: ${missingSlugs.join(", ")}`);
  }
}
